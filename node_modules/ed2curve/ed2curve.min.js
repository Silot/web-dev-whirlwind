!function(r,n){"use strict";"undefined"!=typeof module&&module.exports?module.exports=n(require("tweetnacl/nacl-fast")):r.ed2curve=n(r.nacl)}(this,function(r){"use strict";function n(r){var n,o;for(o=0;16>o;o++)r[o]+=65536,n=Math.floor(r[o]/65536),r[(o+1)*(15>o?1:0)]+=n-1+37*(n-1)*(15===o?1:0),r[o]-=65536*n}function o(r,n,o){for(var e,t=~(o-1),f=0;16>f;f++)e=t&(r[f]^n[f]),r[f]^=e,n[f]^=e}function e(r,n){var o;for(o=0;16>o;o++)r[o]=n[2*o]+(n[2*o+1]<<8);r[15]&=32767}function t(r,n,o){var e;for(e=0;16>e;e++)r[e]=n[e]+o[e]|0}function f(r,n,o){var e;for(e=0;16>e;e++)r[e]=n[e]-o[e]|0}function c(r,o,e){var t,f,c=new Float64Array(31);for(t=0;31>t;t++)c[t]=0;for(t=0;16>t;t++)for(f=0;16>f;f++)c[t+f]+=o[t]*e[f];for(t=0;15>t;t++)c[t]+=38*c[t+16];for(t=0;16>t;t++)r[t]=c[t];n(r),n(r)}function u(r,n){c(r,n,n)}function i(r,n){var o,e=s();for(o=0;16>o;o++)e[o]=n[o];for(o=253;o>=0;o--)u(e,e),2!==o&&4!==o&&c(e,e,n);for(o=0;16>o;o++)r[o]=e[o]}function a(r,e){var t,f,c,u=s(),i=s();for(t=0;16>t;t++)i[t]=e[t];for(n(i),n(i),n(i),f=0;2>f;f++){for(u[0]=i[0]-65517,t=1;15>t;t++)u[t]=i[t]-65535-(u[t-1]>>16&1),u[t-1]&=65535;u[15]=i[15]-32767-(u[14]>>16&1),c=u[15]>>16&1,u[14]&=65535,o(i,u,1-c)}for(t=0;16>t;t++)r[2*t]=255&i[t],r[2*t+1]=i[t]>>8}function l(r){var n=new Uint8Array(32),o=s(),u=s(),l=s();return e(o,r),t(u,w,o),f(l,w,o),i(l,l),c(u,u,l),a(n,u),n}function v(n){var o,e=new Uint8Array(64),t=new Uint8Array(32);for(r.lowlevel.crypto_hash(e,n,32),e[0]&=248,e[31]&=127,e[31]|=64,o=0;32>o;o++)t[o]=e[o];for(o=0;64>o;o++)e[o]=0;return t}function y(r){return{publicKey:l(r.publicKey),secretKey:v(r.secretKey)}}if(!r)throw new Error("tweetnacl not loaded");var s=function(r){var n,o=new Float64Array(16);if(r)for(n=0;n<r.length;n++)o[n]=r[n];return o},w=s([1]);return{convertPublicKey:l,convertSecretKey:v,convertKeyPair:y}});